<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    
    <link rel="stylesheet" type="text/css" href="cart-style.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {

            $.ajax({
                type: 'post',
                url: 'store-items.php',
                data: {
                    total_cart_items: "totalitems"
                },
                success: function (response) {
                    $('#total-items').val(response);
                }
            });

        });

        function cart(id) {
            var img_src = $("#" + id + "-img").prop("src");
            var name = $("#" + id + "-name").val();
            var price = $("#" + id + "-price").val();

            $.ajax({
                type: 'post',
                url: 'store-items.php',
                data: {
                    item_src: img_src,
                    item_name: name,
                    item_price: price
                },
                success: function (response) {
                    $("#total-items").val(response);
                }
            });

        }

        function showCart() {
            $.ajax({
                type: 'post',
                url: 'store-items.php',
                data: {
                    showcart: "cart"
                },
                success: function (response) {
                    $("#mycart").html(response);
                    $('#mycart').slideToggle();
                }
            });

        }

    </script>

</head>

<body>
    <p id="cart-button" onclick="showCart();">
        <img src="images/cart-icon.png">
        <input type="button" id="total-items" value="">
    </p>

    <div id="mycart">
    </div>

    <h1>Carrito de compra simple con jquery, ajax y PHP</h1>

    <div id="item-div">

        <div class="items" id="item1">
            <img id="item1-img" src="images/product1.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item1')">
            <p>Playera Navy Blue</p>
            <p>Precio - $95</p>
            <input type="hidden" id="item1-name" value="Playera sencilla">
            <input type="hidden" id="item1-price" value="95">
        </div>

        <div class="items" id="item2">
            <img id="item2-img" src="images/product2.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item2')">
            <p>Playera con diseño en el reverso</p>
            <p>Precio - $105</p>
            <input type="hidden" id="item2-name" value="Playera de moda">
            <input type="hidden" id="item2-price" value="105">
        </div>

        <div class="items" id="item3">
            <img id="item3-img" src="images/product3.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item3')">
            <p>Camisa de manga corta</p>
            <p>Precio - $120</p>
            <input type="hidden" id="item3-name" value="Camisa de manga corta">
            <input type="hidden" id="item3-price" value="120">
        </div>

        <div class="items" id="item4">
            <img id="item4-img" src="images/product4.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item4')">
            <p>Pantalones chinos para hombres</p>
            <p>Precio - $140</p>
            <input type="hidden" id="item4-name" value="Pnatalones chinos para hombre">
            <input type="hidden" id="item4-price" value="140">
        </div>

        <div class="items" id="item5">
            <img id="item5-img" src="images/product5.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item5')">
            <p>Pantalones cómodos para trabajar</p>
            <p>Precio - $130</p>
            <input type="hidden" id="item5-name" value="Pantalones cómodos para el trabajo">
            <input type="hidden" id="item5-price" value="130">
        </div>

        <div class="items" id="item6">
            <img id="item6_img" src="images/product6.jpg">
            <input type="button" value="Agregar al Carrito" onclick="cart('item6')">
            <p>Pantalón Slim Track para correr</p>
            <p>Precio - $90</p>
            <input type="hidden" id="item6-name" value="Pantalón entallado para correr">
            <input type="hidden" id="item6-price" value="90">
        </div>

    </div>

</body>

</html>